{"ast":null,"code":"import _regeneratorRuntime from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Axios from \"axios\";\nimport { PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_CATEGORY_LIST_SUCCESS, PRODUCT_CATEGORY_LIST_REQUEST, PRODUCT_CATEGORY_LIST_FAIL, PRODUCT_REVIEW_CREATE_REQUEST, PRODUCT_REVIEW_CREATE_SUCCESS, PRODUCT_REVIEW_CREATE_FAIL //    PRODUCT_FAV_REQUEST,\n//    PRODUCT_FAV_SUCCESS,\n//    PRODUCT_FAV_FAIL,\n} from \"../constants/productConstants\"; //    before adding seller part\n// export const listProducts = () => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const {data} = await Axios.get('/api/products');\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n//     }\n// };\n// export const listProducts = ({ seller = '' }) => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const { data } = await Axios.get(`/api/products?seller=${seller}`);\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n//     }\n// };\n\nexport var listProducts = function listProducts(_ref) {\n  var _ref$seller = _ref.seller,\n      seller = _ref$seller === void 0 ? \"\" : _ref$seller,\n      _ref$name = _ref.name,\n      name = _ref$name === void 0 ? \"\" : _ref$name,\n      _ref$category = _ref.category,\n      category = _ref$category === void 0 ? \"\" : _ref$category,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 0 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 0 : _ref$max,\n      _ref$rating = _ref.rating,\n      rating = _ref$rating === void 0 ? 0 : _ref$rating,\n      _ref$order = _ref.order,\n      order = _ref$order === void 0 ? \"\" : _ref$order,\n      _ref$pageNumber = _ref.pageNumber,\n      pageNumber = _ref$pageNumber === void 0 ? \" \" : _ref$pageNumber;\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var _yield$Axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_LIST_REQUEST\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return Axios.get(\"/api/products?pageNumber=\".concat(pageNumber, \"&seller=\").concat(seller, \"&name=\").concat(name, \"&category=\").concat(category, \"&min=\").concat(min, \"&max=\").concat(max, \"&rating=\").concat(rating, \"&order=\").concat(order));\n\n            case 4:\n              _yield$Axios$get = _context.sent;\n              data = _yield$Axios$get.data;\n              dispatch({\n                type: PRODUCT_LIST_SUCCESS,\n                payload: data\n              });\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                type: PRODUCT_LIST_FAIL,\n                payload: _context.t0.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var listProductCategories = function listProductCategories() {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var _yield$Axios$get2, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_CATEGORY_LIST_REQUEST\n              });\n              _context2.prev = 1;\n              _context2.next = 4;\n              return Axios.get(\"/api/products/categories\");\n\n            case 4:\n              _yield$Axios$get2 = _context2.sent;\n              data = _yield$Axios$get2.data;\n              dispatch({\n                type: PRODUCT_CATEGORY_LIST_SUCCESS,\n                payload: data\n              });\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              dispatch({\n                type: PRODUCT_CATEGORY_LIST_FAIL,\n                payload: _context2.t0.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var detailsProduct = function detailsProduct(productId) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var _yield$Axios$get3, data;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_DETAILS_REQUEST,\n                payload: productId\n              });\n              _context3.prev = 1;\n              _context3.next = 4;\n              return Axios.get(\"/api/products/\".concat(productId));\n\n            case 4:\n              _yield$Axios$get3 = _context3.sent;\n              data = _yield$Axios$get3.data;\n              dispatch({\n                type: PRODUCT_DETAILS_SUCCESS,\n                payload: data\n              });\n              _context3.next = 12;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](1);\n              dispatch({\n                type: PRODUCT_DETAILS_FAIL,\n                payload: _context3.t0.response && _context3.t0.response.data.message ? _context3.t0.response.data.message : _context3.t0.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 9]]);\n    }));\n\n    return function (_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var createProduct = function createProduct() {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch, getState) {\n      var _getState, userInfo, _yield$Axios$post, data, message;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_CREATE_REQUEST\n              });\n              _getState = getState(), userInfo = _getState.userSignin.userInfo;\n              console.log(userInfo);\n              _context4.prev = 3;\n              _context4.next = 6;\n              return Axios.post(\"/api/products\", {}, {\n                headers: {\n                  Authorization: \"Bearer \".concat(userInfo.token)\n                }\n              });\n\n            case 6:\n              _yield$Axios$post = _context4.sent;\n              data = _yield$Axios$post.data;\n              dispatch({\n                type: PRODUCT_CREATE_SUCCESS,\n                payload: data.product\n              });\n              _context4.next = 15;\n              break;\n\n            case 11:\n              _context4.prev = 11;\n              _context4.t0 = _context4[\"catch\"](3);\n              message = _context4.t0.response && _context4.t0.response.data.message ? _context4.t0.response.data.message : _context4.t0.message;\n              dispatch({\n                type: PRODUCT_CREATE_FAIL,\n                payload: message\n              });\n\n            case 15:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var updateProduct = function updateProduct(product) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch, getState) {\n      var _getState2, userInfo, _yield$Axios$put, data, message;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_UPDATE_REQUEST,\n                payload: product\n              });\n              _getState2 = getState(), userInfo = _getState2.userSignin.userInfo;\n              _context5.prev = 2;\n              _context5.next = 5;\n              return Axios.put(\"/api/products/\".concat(product._id), product, {\n                headers: {\n                  Authorization: \"Bearer \".concat(userInfo.token)\n                }\n              });\n\n            case 5:\n              _yield$Axios$put = _context5.sent;\n              data = _yield$Axios$put.data;\n              dispatch({\n                type: PRODUCT_UPDATE_SUCCESS,\n                payload: data\n              });\n              _context5.next = 14;\n              break;\n\n            case 10:\n              _context5.prev = 10;\n              _context5.t0 = _context5[\"catch\"](2);\n              message = _context5.t0.response && _context5.t0.response.data.message ? _context5.t0.response.data.message : _context5.t0.message;\n              dispatch({\n                type: PRODUCT_UPDATE_FAIL,\n                payload: message\n              });\n\n            case 14:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[2, 10]]);\n    }));\n\n    return function (_x6, _x7) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteProduct = function deleteProduct(productId) {\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch, getState) {\n      var _getState3, userInfo, message;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_DELETE_REQUEST,\n                payload: productId\n              });\n              _getState3 = getState(), userInfo = _getState3.userSignin.userInfo;\n              _context6.prev = 2;\n              _context6.next = 5;\n              return Axios.delete(\"/api/products/\".concat(productId), {\n                headers: {\n                  Authorization: \"Bearer \".concat(userInfo.token)\n                }\n              });\n\n            case 5:\n              dispatch({\n                type: PRODUCT_DELETE_SUCCESS\n              });\n              _context6.next = 12;\n              break;\n\n            case 8:\n              _context6.prev = 8;\n              _context6.t0 = _context6[\"catch\"](2);\n              message = _context6.t0.response && _context6.t0.response.data.message ? _context6.t0.response.data.message : _context6.t0.message;\n              dispatch({\n                type: PRODUCT_DELETE_FAIL,\n                payload: message\n              });\n\n            case 12:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[2, 8]]);\n    }));\n\n    return function (_x8, _x9) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n};\nexport var createReview = function createReview(productId, review) {\n  return /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch, getState) {\n      var _getState4, userInfo, _yield$Axios$post2, data, message;\n\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              dispatch({\n                type: PRODUCT_REVIEW_CREATE_REQUEST\n              });\n              _getState4 = getState(), userInfo = _getState4.userSignin.userInfo;\n              console.log(userInfo);\n              _context7.prev = 3;\n              _context7.next = 6;\n              return Axios.post(\"/api/products/\".concat(productId, \"/reviews\"), review, {\n                headers: {\n                  Authorization: \"Bearer \".concat(userInfo.token)\n                }\n              });\n\n            case 6:\n              _yield$Axios$post2 = _context7.sent;\n              data = _yield$Axios$post2.data;\n              dispatch({\n                type: PRODUCT_REVIEW_CREATE_SUCCESS,\n                payload: data.review\n              });\n              _context7.next = 15;\n              break;\n\n            case 11:\n              _context7.prev = 11;\n              _context7.t0 = _context7[\"catch\"](3);\n              message = _context7.t0.response && _context7.t0.response.data.message ? _context7.t0.response.data.message : _context7.t0.message;\n              dispatch({\n                type: PRODUCT_REVIEW_CREATE_FAIL,\n                payload: message\n              });\n\n            case 15:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[3, 11]]);\n    }));\n\n    return function (_x10, _x11) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n}; // *********************\n// export const addToFavorite = (productId) => async (dispatch, getState) => {\n//     dispatch({type: PRODUCT_FAV_REQUEST, payload: productId});\n//     try {\n//         const {data} = await Axios.get(`/api/favoritecarts/${productId}`);\n//         console.log( \"kaka data\" + data)\n//         dispatch({type: PRODUCT_FAV_SUCCESS, payload: data});\n//     } catch(error) {\n//         dispatch({type: PRODUCT_FAV_FAIL,\n//             payload:\n//             error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//         });\n//     }\n// }","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/actions/productActions.js"],"names":["Axios","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_CATEGORY_LIST_SUCCESS","PRODUCT_CATEGORY_LIST_REQUEST","PRODUCT_CATEGORY_LIST_FAIL","PRODUCT_REVIEW_CREATE_REQUEST","PRODUCT_REVIEW_CREATE_SUCCESS","PRODUCT_REVIEW_CREATE_FAIL","listProducts","seller","name","category","min","max","rating","order","pageNumber","dispatch","type","get","data","payload","message","listProductCategories","detailsProduct","productId","response","createProduct","getState","userInfo","userSignin","console","log","post","headers","Authorization","token","product","updateProduct","put","_id","deleteProduct","delete","createReview","review"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport {\n  PRODUCT_CREATE_FAIL,\n  PRODUCT_CREATE_REQUEST,\n  PRODUCT_CREATE_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_UPDATE_FAIL,\n  PRODUCT_UPDATE_REQUEST,\n  PRODUCT_UPDATE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_CATEGORY_LIST_SUCCESS,\n  PRODUCT_CATEGORY_LIST_REQUEST,\n  PRODUCT_CATEGORY_LIST_FAIL,\n  PRODUCT_REVIEW_CREATE_REQUEST,\n  PRODUCT_REVIEW_CREATE_SUCCESS,\n  PRODUCT_REVIEW_CREATE_FAIL,\n  //    PRODUCT_FAV_REQUEST,\n  //    PRODUCT_FAV_SUCCESS,\n  //    PRODUCT_FAV_FAIL,\n} from \"../constants/productConstants\";\n\n//    before adding seller part\n// export const listProducts = () => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const {data} = await Axios.get('/api/products');\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n\n//     }\n// };\n\n// export const listProducts = ({ seller = '' }) => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const { data } = await Axios.get(`/api/products?seller=${seller}`);\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n\n//     }\n// };\n\nexport const listProducts =\n  ({\n    seller = \"\",\n    name = \"\",\n    category = \"\",\n    min = 0,\n    max = 0,\n    rating = 0,\n    order = \"\",\n    pageNumber = \" \",\n  }) =>\n  async (dispatch) => {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST,\n    });\n    try {\n      const { data } = await Axios.get(\n        `/api/products?pageNumber=${pageNumber}&seller=${seller}&name=${name}&category=${category}&min=${min}&max=${max}&rating=${rating}&order=${order}`\n      );\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\n    }\n  };\n\nexport const listProductCategories = () => async (dispatch) => {\n  dispatch({\n    type: PRODUCT_CATEGORY_LIST_REQUEST,\n  });\n  try {\n    const { data } = await Axios.get(`/api/products/categories`);\n    dispatch({ type: PRODUCT_CATEGORY_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_CATEGORY_LIST_FAIL, payload: error.message });\n  }\n};\n\nexport const detailsProduct = (productId) => async (dispatch) => {\n  dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n  try {\n    const { data } = await Axios.get(`/api/products/${productId}`);\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const createProduct = () => async (dispatch, getState) => {\n  dispatch({ type: PRODUCT_CREATE_REQUEST });\n  const {\n    userSignin: { userInfo },\n  } = getState();\n  console.log(userInfo);\n  try {\n    const { data } = await Axios.post(\n      \"/api/products\",\n      {},\n      {\n        headers: { Authorization: `Bearer ${userInfo.token}` },\n      }\n    );\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data.product,\n    });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: PRODUCT_CREATE_FAIL, payload: message });\n  }\n};\n\nexport const updateProduct = (product) => async (dispatch, getState) => {\n  dispatch({ type: PRODUCT_UPDATE_REQUEST, payload: product });\n  const {\n    userSignin: { userInfo },\n  } = getState();\n\n  try {\n    const { data } = await Axios.put(`/api/products/${product._id}`, product, {\n      headers: { Authorization: `Bearer ${userInfo.token}` },\n    });\n    dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: PRODUCT_UPDATE_FAIL, payload: message });\n  }\n};\n\nexport const deleteProduct = (productId) => async (dispatch, getState) => {\n  dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\n  const {\n    userSignin: { userInfo },\n  } = getState();\n\n  try {\n    await Axios.delete(`/api/products/${productId}`, {\n      headers: { Authorization: `Bearer ${userInfo.token}` },\n    });\n    dispatch({ type: PRODUCT_DELETE_SUCCESS });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: message });\n  }\n};\n\nexport const createReview =\n  (productId, review) => async (dispatch, getState) => {\n    dispatch({ type: PRODUCT_REVIEW_CREATE_REQUEST });\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    console.log(userInfo);\n    try {\n      const { data } = await Axios.post(\n        `/api/products/${productId}/reviews`,\n        review,\n        {\n          headers: { Authorization: `Bearer ${userInfo.token}` },\n        }\n      );\n      dispatch({\n        type: PRODUCT_REVIEW_CREATE_SUCCESS,\n        payload: data.review,\n      });\n    } catch (error) {\n      const message =\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message;\n      dispatch({ type: PRODUCT_REVIEW_CREATE_FAIL, payload: message });\n    }\n  };\n\n// *********************\n\n// export const addToFavorite = (productId) => async (dispatch, getState) => {\n\n//     dispatch({type: PRODUCT_FAV_REQUEST, payload: productId});\n//     try {\n//         const {data} = await Axios.get(`/api/favoritecarts/${productId}`);\n//         console.log( \"kaka data\" + data)\n//         dispatch({type: PRODUCT_FAV_SUCCESS, payload: data});\n\n//     } catch(error) {\n//         dispatch({type: PRODUCT_FAV_FAIL,\n//             payload:\n//             error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//         });\n//     }\n// }\n"]},"metadata":{},"sourceType":"module"}