{"ast":null,"code":"var _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/CouponListScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createCoupon, deleteCoupon, listCoupons } from \"../actions/couponActions\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { COUPON_CREATE_RESET, COUPON_DELETE_RESET } from \"../constants/couponConstants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CouponListScreen(props) {\n  _s();\n\n  const {\n    pageNumber = 1\n  } = useParams();\n  const sellerMode = props.match.path.indexOf(\"/seller\") >= 0;\n  const couponList = useSelector(state => state.couponList);\n  const {\n    loading,\n    error,\n    coupons,\n    page,\n    pages\n  } = couponList;\n  const couponCreate = useSelector(state => state.couponCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    category: createdCategory\n  } = couponCreate;\n  const couponDelete = useSelector(state => state.couponDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete\n  } = couponDelete;\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successCreate) {\n      dispatch({\n        type: COUPON_CREATE_RESET\n      });\n      props.history.push(`/category/${createdCategory._id}/edit`);\n    }\n\n    if (successDelete) {\n      dispatch({\n        type: COUPON_DELETE_RESET\n      });\n    }\n\n    dispatch(listCoupons({\n      seller: sellerMode ? userInfo._id : \"\",\n      pageNumber\n    }) // listCategories()\n    );\n  }, [createdCategory, dispatch, props.history, sellerMode, successCreate, successDelete, userInfo._id, pageNumber]);\n\n  const deleteHandler = coupon => {\n    if (window.confirm(\"Are you sure you wonna delete this mate?\")) {\n      // todo: dispatch delete action\n      dispatch(deleteCoupon(coupon._id));\n    }\n  };\n\n  const createHandler = () => {\n    dispatch(createCoupon());\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"test coupon kaka\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this) // <div>\n  //   <div className=\"row\">\n  //     <h1>Categories</h1>\n  //     <button type=\"button\" className=\"promary\" onClick={createHandler}>\n  //       Create Category\n  //     </button>\n  //   </div>\n  //   {loadingDelete && <LoadingBox></LoadingBox>}\n  //   {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n  //   {loadingCreate && <LoadingBox></LoadingBox>}\n  //   {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n  //   {loading ? (\n  //     <LoadingBox></LoadingBox>\n  //   ) : error ? (\n  //     <MessageBox variant=\"danger\">{error}</MessageBox>\n  //   ) : (\n  //     <>\n  //       <table className=\"table\">\n  //         <thead>\n  //           <tr>\n  //             <th>ID</th>\n  //             <th>NAME</th>\n  //             <th>PRICE</th>\n  //             <th>IMAGE</th>\n  //             {/* <th>CATEGORY</th> */}\n  //             {/* <th>BRAND</th> */}\n  //             <th>ACTIONS</th>\n  //           </tr>\n  //         </thead>\n  //         <tbody>\n  //           {categories.map((category) => (\n  //             <tr key={category._id}>\n  //               <td>{category._id}</td>\n  //               <td>{category.name}</td>\n  //               <td>{category.price}</td>\n  //               <td>{category.image}</td>\n  //               {/* <td>{category.category}</td> */}\n  //               {/* <td>{category.brand}</td> */}\n  //               <td>\n  //                 <button\n  //                   type=\"button\"\n  //                   className=\"small\"\n  //                   onClick={() =>\n  //                     props.history.push(`/category/${category._id}/edit`)\n  //                   }\n  //                 >\n  //                   Edite\n  //                 </button>\n  //                 <button\n  //                   type=\"button\"\n  //                   className=\"small\"\n  //                   onClick={() => deleteHandler(category)}\n  //                 >\n  //                   Delete\n  //                 </button>\n  //               </td>\n  //             </tr>\n  //           ))}\n  //         </tbody>\n  //       </table>\n  //       <div className=\"row center pagination\">\n  //         {[...Array(pages).keys()].map((x) => (\n  //           <Link\n  //             className={x + 1 === page ? \"active\" : \"\"}\n  //             key={x + 1}\n  //             to={`/categorylist/pageNumber/${x + 1}`}\n  //           >\n  //             {x + 1}\n  //           </Link>\n  //         ))}\n  //       </div>\n  //     </>\n  //   )}\n  // </div>\n  ;\n}\n\n_s(CouponListScreen, \"KHoxSZ2tbndFJZ7kN5Fn/dnGdIM=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = CouponListScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CouponListScreen\");","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/CouponListScreen.js"],"names":["React","useEffect","useSelector","useDispatch","createCoupon","deleteCoupon","listCoupons","Link","useParams","LoadingBox","MessageBox","COUPON_CREATE_RESET","COUPON_DELETE_RESET","CouponListScreen","props","pageNumber","sellerMode","match","path","indexOf","couponList","state","loading","error","coupons","page","pages","couponCreate","loadingCreate","errorCreate","success","successCreate","category","createdCategory","couponDelete","loadingDelete","errorDelete","successDelete","userSignin","userInfo","dispatch","type","history","push","_id","seller","deleteHandler","coupon","window","confirm","createHandler"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  createCoupon,\n  deleteCoupon,\n  listCoupons,\n} from \"../actions/couponActions\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\n\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport {\n  COUPON_CREATE_RESET,\n  COUPON_DELETE_RESET,\n} from \"../constants/couponConstants\";\n\nexport default function CouponListScreen(props) {\n  const { pageNumber = 1 } = useParams();\n  const sellerMode = props.match.path.indexOf(\"/seller\") >= 0;\n\n  const couponList = useSelector((state) => state.couponList);\n\n  const { loading, error, coupons, page, pages } = couponList;\n\n  const couponCreate = useSelector((state) => state.couponCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    category: createdCategory,\n  } = couponCreate;\n\n  const couponDelete = useSelector((state) => state.couponDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = couponDelete;\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (successCreate) {\n      dispatch({ type: COUPON_CREATE_RESET });\n      props.history.push(`/category/${createdCategory._id}/edit`);\n    }\n    if (successDelete) {\n      dispatch({ type: COUPON_DELETE_RESET });\n    }\n    dispatch(\n      listCoupons({ seller: sellerMode ? userInfo._id : \"\", pageNumber })\n      // listCategories()\n    );\n  }, [\n    createdCategory,\n    dispatch,\n    props.history,\n    sellerMode,\n    successCreate,\n    successDelete,\n    userInfo._id,\n    pageNumber,\n  ]);\n\n  const deleteHandler = (coupon) => {\n    if (window.confirm(\"Are you sure you wonna delete this mate?\")) {\n      // todo: dispatch delete action\n      dispatch(deleteCoupon(coupon._id));\n    }\n  };\n  const createHandler = () => {\n    dispatch(createCoupon());\n  };\n\n  return (\n    <div>\n      <h1>test coupon kaka</h1>\n    </div>\n    // <div>\n    //   <div className=\"row\">\n    //     <h1>Categories</h1>\n    //     <button type=\"button\" className=\"promary\" onClick={createHandler}>\n    //       Create Category\n    //     </button>\n    //   </div>\n\n    //   {loadingDelete && <LoadingBox></LoadingBox>}\n    //   {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n    //   {loadingCreate && <LoadingBox></LoadingBox>}\n    //   {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n\n    //   {loading ? (\n    //     <LoadingBox></LoadingBox>\n    //   ) : error ? (\n    //     <MessageBox variant=\"danger\">{error}</MessageBox>\n    //   ) : (\n    //     <>\n    //       <table className=\"table\">\n    //         <thead>\n    //           <tr>\n    //             <th>ID</th>\n    //             <th>NAME</th>\n    //             <th>PRICE</th>\n    //             <th>IMAGE</th>\n    //             {/* <th>CATEGORY</th> */}\n    //             {/* <th>BRAND</th> */}\n    //             <th>ACTIONS</th>\n    //           </tr>\n    //         </thead>\n\n    //         <tbody>\n    //           {categories.map((category) => (\n    //             <tr key={category._id}>\n    //               <td>{category._id}</td>\n    //               <td>{category.name}</td>\n    //               <td>{category.price}</td>\n    //               <td>{category.image}</td>\n    //               {/* <td>{category.category}</td> */}\n    //               {/* <td>{category.brand}</td> */}\n    //               <td>\n    //                 <button\n    //                   type=\"button\"\n    //                   className=\"small\"\n    //                   onClick={() =>\n    //                     props.history.push(`/category/${category._id}/edit`)\n    //                   }\n    //                 >\n    //                   Edite\n    //                 </button>\n    //                 <button\n    //                   type=\"button\"\n    //                   className=\"small\"\n    //                   onClick={() => deleteHandler(category)}\n    //                 >\n    //                   Delete\n    //                 </button>\n    //               </td>\n    //             </tr>\n    //           ))}\n    //         </tbody>\n    //       </table>\n\n    //       <div className=\"row center pagination\">\n    //         {[...Array(pages).keys()].map((x) => (\n    //           <Link\n    //             className={x + 1 === page ? \"active\" : \"\"}\n    //             key={x + 1}\n    //             to={`/categorylist/pageNumber/${x + 1}`}\n    //           >\n    //             {x + 1}\n    //           </Link>\n    //         ))}\n    //       </div>\n    //     </>\n    //   )}\n    // </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}