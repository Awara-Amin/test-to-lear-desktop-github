{"ast":null,"code":"import _toConsumableArray from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/ProductScreen.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"; // import data from \"../data\";\n\nimport { Link } from \"react-router-dom\";\nimport { createReview, detailsProduct } from \"../actions/productActions\";\nimport Rating from \"../components/Rating\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { PRODUCT_REVIEW_CREATE_RESET } from \"../constants/productConstants\";\nimport { addToFavorite } from \"../actions/favoriteCartActions\";\nexport default function ProductScreen(props) {\n  var _this = this;\n\n  console.log(\"in ProductScreen.js\");\n  console.log(props);\n  var dispatch = useDispatch();\n  var productId = props.match.params.id;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      qty = _useState2[0],\n      setQty = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      color = _useState6[0],\n      setColor = _useState6[1];\n\n  var productDetails = useSelector(function (state) {\n    return state.productDetails;\n  });\n  var loading = productDetails.loading,\n      error = productDetails.error,\n      product = productDetails.product;\n  console.log(\"this kaka now\");\n  console.log(product);\n  var userSignin = useSelector(function (state) {\n    return state.userSignin;\n  });\n  var userInfo = userSignin.userInfo;\n  var productReviewCreate = useSelector(function (state) {\n    return state.productReviewCreate;\n  });\n  var loadingReviewCreate = productReviewCreate.loading,\n      errorReviewCreate = productReviewCreate.error,\n      successReviewCreate = productReviewCreate.success;\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rating = _useState8[0],\n      setRating = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      comment = _useState10[0],\n      setComment = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedImage = _useState12[0],\n      setSelectedImage = _useState12[1];\n\n  useEffect(function () {\n    if (successReviewCreate) {\n      window.alert(\"Review Submitted Successfully\");\n      setRating(\"\");\n      setComment(\"\");\n      dispatch({\n        type: PRODUCT_REVIEW_CREATE_RESET\n      });\n    }\n\n    dispatch(detailsProduct(productId));\n  }, [dispatch, productId, successReviewCreate]);\n\n  var addToCartHandler = function addToCartHandler() {\n    props.history.push(\"/cart/\".concat(productId, \"?qty=\").concat(qty, \"&size=\").concat(size, \"&color=\").concat(color)); // props.history.push(`/cart/${productId}?qty=${qty}`);\n    // props.history.push(`/cart/${productId}?qty=${qty}&size=${size}`);\n  };\n\n  var handlingSizeChange = function handlingSizeChange(e) {\n    setSize(e.target.value);\n    console.log(size);\n  };\n\n  console.log(size);\n\n  var handlingColorChange = function handlingColorChange(e) {\n    setColor(e.target.value);\n    console.log(color);\n  };\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n\n    if (comment && rating) {\n      dispatch(createReview(productId, {\n        rating: rating,\n        comment: comment,\n        name: userInfo.name\n      }));\n    } else {\n      alert(\"Please enter comment and rating sir\");\n    }\n  }; // ******** favorite\n  // const onAddToCart = async (id, productId) => {\n  //     console.log(\"era\");\n  //     console.log(userInfo._id);\n  //     addToFavorite(userInfo._id, productId);\n  //     alert ('Item added to Cart');\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"Back to result\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"large\" // src={product.image}\n    ,\n    src: selectedImage || product.image,\n    alt: product.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    rating: product.rating,\n    numReviews: product.numReviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Price : $\", product.price), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Description\", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, product.description)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, \"Size\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sizeInCartScreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: size,\n    onChange: handlingSizeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"Select\"), product.size?.map(function (anySize, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: anySize,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 27\n      }\n    }, anySize);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sizeInCartScreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: color,\n    onChange: handlingColorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"Select\"), product.color?.map(function (anyColor, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: anyColor,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 27\n      }\n    }, anyColor);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Additional Images\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, [product.image].concat(_toConsumableArray(product.images)).map(function (x) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: x,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"thumbnail\",\n      type: \"button\",\n      onClick: function onClick() {\n        return setSelectedImage(x);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: x,\n      alt: \"product\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    })));\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, \"Seller\", \" \", /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/seller/\".concat(product.seller._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 23\n    }\n  }, product.seller.seller.name)), /*#__PURE__*/React.createElement(Rating, {\n    rating: product.seller.seller.rating,\n    numReviews: product.seller.seller.numReviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 23\n    }\n  }, \" Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 23\n    }\n  }, \"$\", product.price))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, \" Status\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 23\n    }\n  }, product.countInStock > 0 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 27\n    }\n  }, \"In Stock\") : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 27\n    }\n  }, \"Unavailable\")))), product.countInStock > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 27\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: qty,\n    onChange: function onChange(e) {\n      return setQty(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, _toConsumableArray(Array(product.countInStock).keys()).map(function (x) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: x + 1,\n      value: x + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 35\n      }\n    }, x + 1);\n  }))))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addToCartHandler,\n    className: \"primary block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 25\n    }\n  }, \"Add To Cart\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }, \"Reviews\"), /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }, \"Reviews\"), product.reviews.length === 0 && /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, \"There is no review\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }, product.reviews.map(function (review) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: review._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 19\n      }\n    }, review.rating), /*#__PURE__*/React.createElement(Rating, {\n      rating: review.rating,\n      caption: \" \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 19\n      }\n    }, review.createdAt.substring(0, 10)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }, review.comment));\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }, userInfo ? /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 23\n    }\n  }, \"Write a customer review\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 23\n    }\n  }, \"Rating\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"rating\",\n    value: rating,\n    onChange: function onChange(e) {\n      return setRating(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 25\n    }\n  }, \"Select...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 25\n    }\n  }, \"Poor\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 25\n    }\n  }, \"Fair\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 25\n    }\n  }, \"Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 25\n    }\n  }, \"Very good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 25\n    }\n  }, \"Excelent\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 23\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"comment\",\n    value: comment,\n    onChange: function onChange(e) {\n      return setComment(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 23\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 21\n    }\n  }, loadingReviewCreate && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 47\n    }\n  }), errorReviewCreate && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 25\n    }\n  }, errorReviewCreate))) : /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 19\n    }\n  }, \"Please \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 28\n    }\n  }, \"Sign In\"), \" to write a review\"))))));\n}","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","createReview","detailsProduct","Rating","LoadingBox","MessageBox","PRODUCT_REVIEW_CREATE_RESET","addToFavorite","ProductScreen","props","console","log","dispatch","productId","match","params","id","qty","setQty","size","setSize","color","setColor","productDetails","state","loading","error","product","userSignin","userInfo","productReviewCreate","loadingReviewCreate","errorReviewCreate","successReviewCreate","success","rating","setRating","comment","setComment","selectedImage","setSelectedImage","window","alert","type","addToCartHandler","history","push","handlingSizeChange","e","target","value","handlingColorChange","submitHandler","preventDefault","name","image","numReviews","price","description","map","anySize","index","anyColor","images","x","seller","_id","countInStock","Array","keys","reviews","length","review","createdAt","substring"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CACA;;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,2BAA7C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,2BAAT,QAA4C,+BAA5C;AACA,SAASC,aAAT,QAA8B,gCAA9B;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,MAAMG,QAAQ,GAAGd,WAAW,EAA5B;AACA,MAAMe,SAAS,GAAGJ,KAAK,CAACK,KAAN,CAAYC,MAAZ,CAAmBC,EAArC;;AAJ2C,kBAKrBpB,QAAQ,CAAC,CAAD,CALa;AAAA;AAAA,MAKpCqB,GALoC;AAAA,MAK/BC,MAL+B;;AAAA,mBAMnBtB,QAAQ,CAAC,EAAD,CANW;AAAA;AAAA,MAMpCuB,IANoC;AAAA,MAM9BC,OAN8B;;AAAA,mBAOjBxB,QAAQ,CAAC,EAAD,CAPS;AAAA;AAAA,MAOpCyB,KAPoC;AAAA,MAO7BC,QAP6B;;AAS3C,MAAMC,cAAc,GAAGxB,WAAW,CAAC,UAACyB,KAAD;AAAA,WAAWA,KAAK,CAACD,cAAjB;AAAA,GAAD,CAAlC;AAT2C,MAUnCE,OAVmC,GAUPF,cAVO,CAUnCE,OAVmC;AAAA,MAU1BC,KAV0B,GAUPH,cAVO,CAU1BG,KAV0B;AAAA,MAUnBC,OAVmB,GAUPJ,cAVO,CAUnBI,OAVmB;AAW3CjB,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYgB,OAAZ;AAEA,MAAMC,UAAU,GAAG7B,WAAW,CAAC,UAACyB,KAAD;AAAA,WAAWA,KAAK,CAACI,UAAjB;AAAA,GAAD,CAA9B;AAd2C,MAenCC,QAfmC,GAetBD,UAfsB,CAenCC,QAfmC;AAiB3C,MAAMC,mBAAmB,GAAG/B,WAAW,CAAC,UAACyB,KAAD;AAAA,WAAWA,KAAK,CAACM,mBAAjB;AAAA,GAAD,CAAvC;AAjB2C,MAmBhCC,mBAnBgC,GAsBvCD,mBAtBuC,CAmBzCL,OAnByC;AAAA,MAoBlCO,iBApBkC,GAsBvCF,mBAtBuC,CAoBzCJ,KApByC;AAAA,MAqBhCO,mBArBgC,GAsBvCH,mBAtBuC,CAqBzCI,OArByC;;AAAA,mBAwBftC,QAAQ,CAAC,CAAD,CAxBO;AAAA;AAAA,MAwBpCuC,MAxBoC;AAAA,MAwB5BC,SAxB4B;;AAAA,mBAyBbxC,QAAQ,CAAC,EAAD,CAzBK;AAAA;AAAA,MAyBpCyC,OAzBoC;AAAA,MAyB3BC,UAzB2B;;AAAA,oBA0BD1C,QAAQ,CAAC,EAAD,CA1BP;AAAA;AAAA,MA0BpC2C,aA1BoC;AAAA,MA0BrBC,gBA1BqB;;AA4B3C3C,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIoC,mBAAJ,EAAyB;AACvBQ,MAAAA,MAAM,CAACC,KAAP,CAAa,+BAAb;AACAN,MAAAA,SAAS,CAAC,EAAD,CAAT;AACAE,MAAAA,UAAU,CAAC,EAAD,CAAV;AACA1B,MAAAA,QAAQ,CAAC;AAAE+B,QAAAA,IAAI,EAAErC;AAAR,OAAD,CAAR;AACD;;AACDM,IAAAA,QAAQ,CAACV,cAAc,CAACW,SAAD,CAAf,CAAR;AACD,GARQ,EAQN,CAACD,QAAD,EAAWC,SAAX,EAAsBoB,mBAAtB,CARM,CAAT;;AAUA,MAAMW,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BnC,IAAAA,KAAK,CAACoC,OAAN,CAAcC,IAAd,iBACWjC,SADX,kBAC4BI,GAD5B,mBACwCE,IADxC,oBACsDE,KADtD,GAD6B,CAI7B;AACA;AACD,GAND;;AAQA,MAAM0B,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,CAAD,EAAO;AAChC5B,IAAAA,OAAO,CAAC4B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACAxC,IAAAA,OAAO,CAACC,GAAR,CAAYQ,IAAZ;AACD,GAHD;;AAIAT,EAAAA,OAAO,CAACC,GAAR,CAAYQ,IAAZ;;AAEA,MAAMgC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACH,CAAD,EAAO;AACjC1B,IAAAA,QAAQ,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACAxC,IAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,GAHD;;AAKA,MAAM+B,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,CAAD,EAAO;AAC3BA,IAAAA,CAAC,CAACK,cAAF;;AACA,QAAIhB,OAAO,IAAIF,MAAf,EAAuB;AACrBvB,MAAAA,QAAQ,CACNX,YAAY,CAACY,SAAD,EAAY;AAAEsB,QAAAA,MAAM,EAANA,MAAF;AAAUE,QAAAA,OAAO,EAAPA,OAAV;AAAmBiB,QAAAA,IAAI,EAAEzB,QAAQ,CAACyB;AAAlC,OAAZ,CADN,CAAR;AAGD,KAJD,MAIO;AACLZ,MAAAA,KAAK,CAAC,qCAAD,CAAL;AACD;AACF,GATD,CAzD2C,CAmE3C;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjB,OAAO,gBACN,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,GAEJC,KAAK,gBACP,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BA,KAA9B,CADO,gBAGP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,OADZ,CAEE;AAFF;AAGE,IAAA,GAAG,EAAEa,aAAa,IAAIZ,OAAO,CAAC4B,KAHhC;AAIE,IAAA,GAAG,EAAE5B,OAAO,CAAC2B,IAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK3B,OAAO,CAAC2B,IAAb,CADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAE3B,OAAO,CAACQ,MADlB;AAEE,IAAA,UAAU,EAAER,OAAO,CAAC6B,UAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAc7B,OAAO,CAAC8B,KAAtB,CAVF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI9B,OAAO,CAAC+B,WAAZ,CAFF,CAXF,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAEvC,IAAf;AAAqB,IAAA,QAAQ,EAAE4B,kBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEGpB,OAAO,CAACR,IAAR,EAAcwC,GAAd,CAAkB,UAACC,OAAD,EAAUC,KAAV;AAAA,wBACjB;AAAQ,MAAA,GAAG,EAAEA,KAAb;AAAoB,MAAA,KAAK,EAAED,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OADH,CADiB;AAAA,GAAlB,CAFH,CADF,CAFF,CADF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAEvC,KAAf;AAAsB,IAAA,QAAQ,EAAE8B,mBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEGxB,OAAO,CAACN,KAAR,EAAesC,GAAf,CAAmB,UAACG,QAAD,EAAWD,KAAX;AAAA,wBAClB;AAAQ,MAAA,GAAG,EAAEA,KAAb;AAAoB,MAAA,KAAK,EAAEC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,QADH,CADkB;AAAA,GAAnB,CAFH,CADF,CAFF,CAfF,eA6BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACnC,OAAO,CAAC4B,KAAT,4BAAmB5B,OAAO,CAACoC,MAA3B,GAAmCJ,GAAnC,CAAuC,UAACK,CAAD;AAAA,wBACtC;AAAI,MAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,OAAO,EAAE;AAAA,eAAMxB,gBAAgB,CAACwB,CAAD,CAAtB;AAAA,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AAAK,MAAA,GAAG,EAAEA,CAAV;AAAa,MAAA,GAAG,EAAC,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF,CADsC;AAAA,GAAvC,CADH,CAHF,CA7BF,CApBF,CADF,CAVF,eA2FE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACS,GADT,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,oBAAarC,OAAO,CAACsC,MAAR,CAAeC,GAA5B,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvC,OAAO,CAACsC,MAAR,CAAeA,MAAf,CAAsBX,IADzB,CADF,CAFF,eAOE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAE3B,OAAO,CAACsC,MAAR,CAAeA,MAAf,CAAsB9B,MADhC;AAEE,IAAA,UAAU,EAAER,OAAO,CAACsC,MAAR,CAAeA,MAAf,CAAsBT,UAFpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAyB7B,OAAO,CAAC8B,KAAjC,CAFF,CADF,CAdF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG9B,OAAO,CAACwC,YAAR,GAAuB,CAAvB,gBACC;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,gBAGC;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJJ,CAFF,CADF,CArBF,EAiCGxC,OAAO,CAACwC,YAAR,GAAuB,CAAvB,iBACC,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAElD,GADT;AAEE,IAAA,QAAQ,EAAE,kBAAC+B,CAAD;AAAA,aAAO9B,MAAM,CAAC8B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AAAA,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG,mBAAIkB,KAAK,CAACzC,OAAO,CAACwC,YAAT,CAAL,CAA4BE,IAA5B,EAAJ,EAAwCV,GAAxC,CACC,UAACK,CAAD;AAAA,wBACE;AAAQ,MAAA,GAAG,EAAEA,CAAC,GAAG,CAAjB;AAAoB,MAAA,KAAK,EAAEA,CAAC,GAAG,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,CAAC,GAAG,CADP,CADF;AAAA,GADD,CAJH,CADF,CAFF,CADF,CADF,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAEpB,gBADX;AAEE,IAAA,SAAS,EAAC,eAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CApBF,CAlCJ,CADF,CADF,CA3FF,CAFF,eAqKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,EAAE,EAAC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAI,IAAA,EAAE,EAAC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGGjB,OAAO,CAAC2C,OAAR,CAAgBC,MAAhB,KAA2B,CAA3B,iBACC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5C,OAAO,CAAC2C,OAAR,CAAgBX,GAAhB,CAAoB,UAACa,MAAD;AAAA,wBACnB;AAAI,MAAA,GAAG,EAAEA,MAAM,CAACN,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASM,MAAM,CAACrC,MAAhB,CADF,eAEE,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAEqC,MAAM,CAACrC,MAAvB;AAA+B,MAAA,OAAO,EAAC,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIqC,MAAM,CAACC,SAAP,CAAiBC,SAAjB,CAA2B,CAA3B,EAA8B,EAA9B,CAAJ,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,MAAM,CAACnC,OAAX,CAJF,CADmB;AAAA,GAApB,CADH,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,QAAQ,gBACP;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAuB,IAAA,QAAQ,EAAEuB,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,KAAK,EAAEjB,MAFT;AAGE,IAAA,QAAQ,EAAE,kBAACa,CAAD;AAAA,aAAOZ,SAAS,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AAAA,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAME;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eAOE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,eAQE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,eASE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,eAUE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF,CAFF,CALF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,KAAK,EAAEb,OAFT;AAGE,IAAA,QAAQ,EAAE,kBAACW,CAAD;AAAA,aAAOV,UAAU,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AAAA,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CArBF,eA8BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CA9BF,eAqCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnB,mBAAmB,iBAAI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD1B,EAEGC,iBAAiB,iBAChB,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,iBADH,CAHJ,CArCF,CADO,gBAgDP,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACS,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADT,uBAjDJ,CAVF,CAPF,CArKF,CANJ,CADF;AAyPD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n// import data from \"../data\";\nimport { Link } from \"react-router-dom\";\nimport { createReview, detailsProduct } from \"../actions/productActions\";\nimport Rating from \"../components/Rating\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { PRODUCT_REVIEW_CREATE_RESET } from \"../constants/productConstants\";\nimport { addToFavorite } from \"../actions/favoriteCartActions\";\n\nexport default function ProductScreen(props) {\n  console.log(\"in ProductScreen.js\");\n  console.log(props);\n  const dispatch = useDispatch();\n  const productId = props.match.params.id;\n  const [qty, setQty] = useState(1);\n  const [size, setSize] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n  console.log(\"this kaka now\");\n  console.log(product);\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\n  const {\n    loading: loadingReviewCreate,\n    error: errorReviewCreate,\n    success: successReviewCreate,\n  } = productReviewCreate;\n\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n  const [selectedImage, setSelectedImage] = useState(\"\");\n\n  useEffect(() => {\n    if (successReviewCreate) {\n      window.alert(\"Review Submitted Successfully\");\n      setRating(\"\");\n      setComment(\"\");\n      dispatch({ type: PRODUCT_REVIEW_CREATE_RESET });\n    }\n    dispatch(detailsProduct(productId));\n  }, [dispatch, productId, successReviewCreate]);\n\n  const addToCartHandler = () => {\n    props.history.push(\n      `/cart/${productId}?qty=${qty}&size=${size}&color=${color}`\n    );\n    // props.history.push(`/cart/${productId}?qty=${qty}`);\n    // props.history.push(`/cart/${productId}?qty=${qty}&size=${size}`);\n  };\n\n  const handlingSizeChange = (e) => {\n    setSize(e.target.value);\n    console.log(size);\n  };\n  console.log(size);\n\n  const handlingColorChange = (e) => {\n    setColor(e.target.value);\n    console.log(color);\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (comment && rating) {\n      dispatch(\n        createReview(productId, { rating, comment, name: userInfo.name })\n      );\n    } else {\n      alert(\"Please enter comment and rating sir\");\n    }\n  };\n  // ******** favorite\n  // const onAddToCart = async (id, productId) => {\n  //     console.log(\"era\");\n  //     console.log(userInfo._id);\n\n  //     addToFavorite(userInfo._id, productId);\n  //     alert ('Item added to Cart');\n  // }\n\n  return (\n    <div>\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <div>\n          <Link to=\"/\">Back to result</Link>\n          <div className=\"row top\">\n            <div className=\"col-2\">\n              <img\n                className=\"large\"\n                // src={product.image}\n                src={selectedImage || product.image}\n                alt={product.name}\n              ></img>\n            </div>\n\n            <div className=\"col-1\">\n              <ul>\n                <li>\n                  <h1>{product.name}</h1>\n                </li>\n                <li>\n                  <Rating\n                    rating={product.rating}\n                    numReviews={product.numReviews}\n                  ></Rating>\n                </li>\n                <li>Price : ${product.price}</li>\n                <li>\n                  Description\n                  <p>{product.description}</p>\n                </li>\n                {/* ********* */}\n                {/* <button type=\"button\"\n                            \n                            onClick={onAddToCart.bind(userInfo._id, product._id)}\n                                    >Add To Cart</button> */}\n                <li>\n                  <div>\n                    <span>Size</span>\n                    <span className=\"sizeInCartScreen\">\n                      <select value={size} onChange={handlingSizeChange}>\n                        <option value=\"\">Select</option>\n                        {product.size?.map((anySize, index) => (\n                          <option key={index} value={anySize}>\n                            {anySize}\n                          </option>\n                        ))}\n                      </select>\n                    </span>\n                  </div>\n\n                  <div>\n                    <span>Color</span>\n                    <span className=\"sizeInCartScreen\">\n                      <select value={color} onChange={handlingColorChange}>\n                        <option value=\"\">Select</option>\n                        {product.color?.map((anyColor, index) => (\n                          <option key={index} value={anyColor}>\n                            {anyColor}\n                          </option>\n                        ))}\n                      </select>\n                    </span>\n                  </div>\n                  {/* additional images */}\n                  <div>\n                    <span>Additional Images</span>\n\n                    <ul>\n                      {[product.image, ...product.images].map((x) => (\n                        <li key={x}>\n                          <button\n                            className=\"thumbnail\"\n                            type=\"button\"\n                            onClick={() => setSelectedImage(x)}\n                          >\n                            <img src={x} alt=\"product\"></img>\n                          </button>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                  {/* <div>\n                                Size \n                                <select \n                                    value={size} \n                                    onChange={handlingSizeChange}>\n                                        <p>{product.size}</p>\n                                </select>\n                                \n\n                                </div> */}\n                </li>\n              </ul>\n            </div>\n\n            <div className=\"col-1\">\n              <div className=\"card card-body\">\n                <ul>\n                  <li>\n                    Seller{\" \"}\n                    <h2>\n                      <Link to={`/seller/${product.seller._id}`}>\n                        {product.seller.seller.name}\n                      </Link>\n                    </h2>\n                    <Rating\n                      rating={product.seller.seller.rating}\n                      numReviews={product.seller.seller.numReviews}\n                    ></Rating>\n                  </li>\n\n                  <li>\n                    <div className=\"row\">\n                      <div> Price</div>\n                      <div className=\"price\">${product.price}</div>\n                    </div>\n                  </li>\n\n                  <li>\n                    <div className=\"row\">\n                      <div> Status</div>\n                      <div>\n                        {product.countInStock > 0 ? (\n                          <span className=\"success\">In Stock</span>\n                        ) : (\n                          <span className=\"danger\">Unavailable</span>\n                        )}\n                      </div>\n                    </div>\n                  </li>\n                  {product.countInStock > 0 && (\n                    <>\n                      <li>\n                        <div className=\"row\">\n                          <div>Qty</div>\n                          <div>\n                            <select\n                              value={qty}\n                              onChange={(e) => setQty(e.target.value)}\n                            >\n                              {[...Array(product.countInStock).keys()].map(\n                                (x) => (\n                                  <option key={x + 1} value={x + 1}>\n                                    {x + 1}\n                                  </option>\n                                )\n                              )}\n                            </select>\n                          </div>\n                        </div>\n                      </li>\n                      <li>\n                        <button\n                          onClick={addToCartHandler}\n                          className=\"primary block\"\n                        >\n                          Add To Cart\n                        </button>\n                      </li>\n                    </>\n                  )}\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          {/* review part */}\n          <div>\n            <h2 id=\"reviews\">Reviews</h2>\n            <h2 id=\"reviews\">Reviews</h2>\n            {product.reviews.length === 0 && (\n              <MessageBox>There is no review</MessageBox>\n            )}\n\n            <ul>\n              {product.reviews.map((review) => (\n                <li key={review._id}>\n                  <strong>{review.rating}</strong>\n                  <Rating rating={review.rating} caption=\" \"></Rating>\n                  <p>{review.createdAt.substring(0, 10)}</p>\n                  <p>{review.comment}</p>\n                </li>\n              ))}\n\n              <li>\n                {userInfo ? (\n                  <form className=\"form\" onSubmit={submitHandler}>\n                    <div>\n                      <h2>Write a customer review</h2>\n                    </div>\n\n                    <div>\n                      <label htmlFor=\"rating\">Rating</label>\n                      <select\n                        id=\"rating\"\n                        value={rating}\n                        onChange={(e) => setRating(e.target.value)}\n                      >\n                        <option value=\"\">Select...</option>\n                        <option value=\"1\">Poor</option>\n                        <option value=\"2\">Fair</option>\n                        <option value=\"3\">Good</option>\n                        <option value=\"4\">Very good</option>\n                        <option value=\"5\">Excelent</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label htmlFor=\"comment\">Comment</label>\n                      <textarea\n                        id=\"comment\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                      ></textarea>\n                    </div>\n\n                    <div>\n                      <label></label>\n                      <button className=\"primary\" type=\"submit\">\n                        Submit\n                      </button>\n                    </div>\n\n                    <div>\n                      {loadingReviewCreate && <LoadingBox></LoadingBox>}\n                      {errorReviewCreate && (\n                        <MessageBox variant=\"danger\">\n                          {errorReviewCreate}\n                        </MessageBox>\n                      )}\n                    </div>\n                  </form>\n                ) : (\n                  <MessageBox>\n                    Please <Link to=\"/signin\">Sign In</Link> to write a review\n                  </MessageBox>\n                )}\n              </li>\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}