{"ast":null,"code":"import _regeneratorRuntime from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/ProductEditScreen.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport Axios from \"axios\";\nimport { detailsProduct, updateProduct } from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { PRODUCT_UPDATE_RESET } from \"../constants/productConstants\";\nexport default function ProductEditScreen(props) {\n  var _this = this;\n\n  var productId = props.match.params.id;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      price = _useState4[0],\n      setPrice = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      image = _useState6[0],\n      setImage = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      images = _useState8[0],\n      setImages = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      category = _useState10[0],\n      setCategory = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      countInStock = _useState12[0],\n      setCountInStock = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      brand = _useState14[0],\n      setBrand = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      size = _useState16[0],\n      setSize = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      color = _useState18[0],\n      setColor = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      description = _useState20[0],\n      setDescription = _useState20[1];\n\n  var productDetails = useSelector(function (state) {\n    return state.productDetails;\n  });\n  var loading = productDetails.loading,\n      error = productDetails.error,\n      product = productDetails.product;\n  var productUpdate = useSelector(function (state) {\n    return state.productUpdate;\n  });\n  var loadingUpdate = productUpdate.loading,\n      errorUpdate = productUpdate.error,\n      successUpdate = productUpdate.success;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (successUpdate) {\n      //  dispatch({type: PRODUCT_UPDATE_RESET});\n      props.history.push(\"/productlist\");\n    } // if (!product.name){\n\n\n    if (!product || product._id !== productId || successUpdate) {\n      dispatch({\n        type: PRODUCT_UPDATE_RESET\n      });\n      dispatch(detailsProduct(productId));\n    } else {\n      setName(product.name);\n      setPrice(product.price);\n      setImage(product.image);\n      setImages(product.images);\n      setCategory(product.category);\n      setCountInStock(product.countInStock);\n      setBrand(product.brand);\n      setDescription(product.description);\n    }\n  }, [product, dispatch, productId, successUpdate, props.history]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault(); // todo: dispatch update product\n\n    dispatch(updateProduct({\n      _id: productId,\n      name: name,\n      price: price,\n      image: image,\n      images: images,\n      category: category,\n      brand: brand,\n      size: size,\n      color: color,\n      countInStock: countInStock,\n      description: description\n    }));\n  };\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      loadingUpload = _useState22[0],\n      setLoadingUpload = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      errorUpload = _useState24[0],\n      setErrorUpload = _useState24[1];\n\n  var userSignin = useSelector(function (state) {\n    return state.userSignin;\n  });\n  var userInfo = userSignin.userInfo;\n\n  var uploadFileHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, forImages) {\n      var file, bodyFormData, _yield$Axios$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = e.target.files[0];\n              bodyFormData = new FormData();\n              bodyFormData.append(\"image\", file); // setLoadingUpload(true);\n\n              _context.prev = 3;\n              _context.next = 6;\n              return Axios.post(\"/api/uploads\", bodyFormData, {\n                headers: {\n                  \"Content-Type\": \"multipart/form-data\",\n                  Authorization: \"Bearer \".concat(userInfo.token)\n                }\n              });\n\n            case 6:\n              _yield$Axios$post = _context.sent;\n              data = _yield$Axios$post.data;\n\n              //   images\n              if (forImages) {\n                setImages([].concat(_toConsumableArray(images), [data]));\n              } else {\n                setImage(data); // setLoadingUpload(false);\n              }\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n              setErrorUpload(_context.t0.message); //   setLoadingUpload(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    return function uploadFileHandler(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var deleteFileHandler = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fileName) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setImages(images.filter(function (x) {\n                return x !== fileName;\n              }));\n              console.log(\"hi\");\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteFileHandler(_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // UI part\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, \"Edit Product \", productId)), loadingUpdate && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }), errorUpdate && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, errorUpdate), loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    type: \"text\",\n    placeholder: \"Enter Name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"price\",\n    type: \"text\",\n    placeholder: \"Enter Price\",\n    value: price,\n    onChange: function onChange(e) {\n      return setPrice(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"image\",\n    type: \"text\",\n    placeholder: \"Image\",\n    value: image,\n    onChange: function onChange(e) {\n      return setImage(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"imagefile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"Upload Image \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"imagefile\",\n    label: \"Upload Image\",\n    onChange: uploadFileHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }), loadingUpload && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"additionalImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, \"Additional Images\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"additionalImage\",\n    value: images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }), images.length === 0 && /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 39\n    }\n  }, \"No image kako\"), images.map(function (x, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, x, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return deleteFileHandler(x);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-times-circle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"additionalImageFile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, \"Upload Additional Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"additionalImageFile\" // label=\"Choose Image\"\n    ,\n    label: \"Upload additional Image\",\n    onChange: function onChange(e) {\n      return uploadFileHandler(e, true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }), loadingUpload && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"category\",\n    type: \"text\",\n    placeholder: \"Enter category\",\n    value: category,\n    onChange: function onChange(e) {\n      return setCategory(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, \"Brand\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"brand\",\n    type: \"text\",\n    placeholder: \"Enter Brand\",\n    value: brand,\n    onChange: function onChange(e) {\n      return setBrand(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }, \"Size\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"size\",\n    name: \"size\",\n    type: \"text\",\n    placeholder: \"Enter Size: Small, Medium, Large\",\n    value: size,\n    onChange: function onChange(e) {\n      return setSize(e.target.value.split(\",\"));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"color\",\n    name: \"color\",\n    type: \"text\",\n    placeholder: \"Enter Color: Such as: Red, Green, White, or so\",\n    value: color,\n    onChange: function onChange(e) {\n      return setColor(e.target.value.split(\",\"));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"countInStock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }, \"Count In Stock\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"countInStock\",\n    type: \"text\",\n    placeholder: \"Enter countInStock\",\n    value: countInStock,\n    onChange: function onChange(e) {\n      return setCountInStock(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 15\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"description\",\n    rows: \"3\",\n    type: \"text\",\n    placeholder: \"Enter description\",\n    value: description,\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }, \"Update\")))));\n}","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/ProductEditScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Axios","detailsProduct","updateProduct","LoadingBox","MessageBox","PRODUCT_UPDATE_RESET","ProductEditScreen","props","productId","match","params","id","name","setName","price","setPrice","image","setImage","images","setImages","category","setCategory","countInStock","setCountInStock","brand","setBrand","size","setSize","color","setColor","description","setDescription","productDetails","state","loading","error","product","productUpdate","loadingUpdate","errorUpdate","successUpdate","success","dispatch","history","push","_id","type","submitHandler","e","preventDefault","loadingUpload","setLoadingUpload","errorUpload","setErrorUpload","userSignin","userInfo","uploadFileHandler","forImages","file","target","files","bodyFormData","FormData","append","post","headers","Authorization","token","data","message","deleteFileHandler","fileName","filter","x","console","log","value","length","map","index","split"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport Axios from \"axios\";\nimport { detailsProduct, updateProduct } from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { PRODUCT_UPDATE_RESET } from \"../constants/productConstants\";\n\nexport default function ProductEditScreen(props) {\n  const productId = props.match.params.id;\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [category, setCategory] = useState(\"\");\n  const [countInStock, setCountInStock] = useState(\"\");\n  const [brand, setBrand] = useState(\"\");\n  const [size, setSize] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  const productUpdate = useSelector((state) => state.productUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = productUpdate;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (successUpdate) {\n      //  dispatch({type: PRODUCT_UPDATE_RESET});\n      props.history.push(\"/productlist\");\n    }\n\n    // if (!product.name){\n    if (!product || product._id !== productId || successUpdate) {\n      dispatch({ type: PRODUCT_UPDATE_RESET });\n      dispatch(detailsProduct(productId));\n    } else {\n      setName(product.name);\n      setPrice(product.price);\n      setImage(product.image);\n      setImages(product.images);\n      setCategory(product.category);\n      setCountInStock(product.countInStock);\n      setBrand(product.brand);\n      setDescription(product.description);\n    }\n  }, [product, dispatch, productId, successUpdate, props.history]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    // todo: dispatch update product\n    dispatch(\n      updateProduct({\n        _id: productId,\n        name,\n        price,\n        image,\n        images,\n        category,\n        brand,\n        size,\n        color,\n        countInStock,\n        description,\n      })\n    );\n  };\n\n  const [loadingUpload, setLoadingUpload] = useState(false);\n  const [errorUpload, setErrorUpload] = useState(\"\");\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const uploadFileHandler = async (e, forImages) => {\n    const file = e.target.files[0];\n    const bodyFormData = new FormData();\n    bodyFormData.append(\"image\", file);\n    // setLoadingUpload(true);\n    try {\n      const { data } = await Axios.post(\"/api/uploads\", bodyFormData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      });\n\n      //   images\n      if (forImages) {\n        setImages([...images, data]);\n      } else {\n        setImage(data);\n        // setLoadingUpload(false);\n      }\n    } catch (error) {\n      setErrorUpload(error.message);\n      //   setLoadingUpload(false);\n    }\n  };\n\n  const deleteFileHandler = async (fileName) => {\n    setImages(images.filter((x) => x !== fileName));\n    console.log(\"hi\");\n  };\n  // UI part\n  return (\n    <div>\n      <form className=\"form\" onSubmit={submitHandler}>\n        <div>\n          <h1>Edit Product {productId}</h1>\n        </div>\n        {loadingUpdate && <LoadingBox></LoadingBox>}\n        {errorUpdate && <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>}\n\n        {loading ? (\n          <LoadingBox></LoadingBox>\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <>\n            <div>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                id=\"name\"\n                type=\"text\"\n                placeholder=\"Enter Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"price\">Price</label>\n              <input\n                id=\"price\"\n                type=\"text\"\n                placeholder=\"Enter Price\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"image\">Image</label>\n              <input\n                id=\"image\"\n                type=\"text\"\n                placeholder=\"Image\"\n                value={image}\n                onChange={(e) => setImage(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"imagefile\">Upload Image </label>\n              <input\n                type=\"file\"\n                id=\"imagefile\"\n                label=\"Upload Image\"\n                onChange={uploadFileHandler}\n              ></input>\n              {loadingUpload && <LoadingBox></LoadingBox>}\n            </div>\n\n            {/* additional image */}\n            <div>\n              <label htmlFor=\"additionalImage\">Additional Images</label>\n              <textarea id=\"additionalImage\" value={images}></textarea>\n              {images.length === 0 && <MessageBox>No image kako</MessageBox>}\n              {images.map((x, index) => (\n                <li key={index}>\n                  {x}\n                  <button onClick={() => deleteFileHandler(x)}>\n                    <i className=\"fa fa-times-circle\"></i>\n                  </button>\n                </li>\n              ))}\n            </div>\n\n            {/* another additinal image */}\n            <div>\n              <label htmlFor=\"additionalImageFile\">\n                Upload Additional Image\n              </label>\n              <input\n                type=\"file\"\n                id=\"additionalImageFile\"\n                // label=\"Choose Image\"\n                label=\"Upload additional Image\"\n                onChange={(e) => uploadFileHandler(e, true)}\n              ></input>\n              {/* {images.length === 0 && <MessageBox>No image kaka</MessageBox>} */}\n              {loadingUpload && <LoadingBox></LoadingBox>}\n            </div>\n\n            <div>\n              <label htmlFor=\"category\">Category</label>\n              <input\n                id=\"category\"\n                type=\"text\"\n                placeholder=\"Enter category\"\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"brand\">Brand</label>\n              <input\n                id=\"brand\"\n                type=\"text\"\n                placeholder=\"Enter Brand\"\n                value={brand}\n                onChange={(e) => setBrand(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"size\">Size</label>\n              <input\n                id=\"size\"\n                name=\"size\"\n                type=\"text\"\n                placeholder=\"Enter Size: Small, Medium, Large\"\n                value={size}\n                onChange={(e) => setSize(e.target.value.split(\",\"))}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"color\">Color</label>\n              <input\n                id=\"color\"\n                name=\"color\"\n                type=\"text\"\n                placeholder=\"Enter Color: Such as: Red, Green, White, or so\"\n                value={color}\n                onChange={(e) => setColor(e.target.value.split(\",\"))}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"countInStock\">Count In Stock</label>\n              <input\n                id=\"countInStock\"\n                type=\"text\"\n                placeholder=\"Enter countInStock\"\n                value={countInStock}\n                onChange={(e) => setCountInStock(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"description\">Description</label>\n              <textarea\n                id=\"description\"\n                rows=\"3\"\n                type=\"text\"\n                placeholder=\"Enter description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              ></textarea>\n            </div>\n\n            <div>\n              <label></label>\n              <button className=\"primary\" type=\"submit\">\n                Update\n              </button>\n            </div>\n          </>\n        )}\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}