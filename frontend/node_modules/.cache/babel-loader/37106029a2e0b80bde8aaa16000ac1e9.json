{"ast":null,"code":"import _slicedToArray from \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/UserEditScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { detailsUser, updateUser } from '../actions/userActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\nexport default function UserEditScreen(props) {\n  console.log(props);\n  var userId = props.match.params.id;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isSeller = _useState6[0],\n      setIsSeller = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isAdmin = _useState8[0],\n      setIsAdmin = _useState8[1];\n\n  var userUpdate = useSelector(function (state) {\n    return state.userUpdate;\n  });\n  var loadingUpdate = userUpdate.loading,\n      errorUpdate = userUpdate.error,\n      successUpdate = userUpdate.success;\n  var userDetails = useSelector(function (state) {\n    return state.userDetails;\n  });\n  var loading = userDetails.loading,\n      error = userDetails.error,\n      user = userDetails.user;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (successUpdate) {\n      dispatch({\n        type: USER_UPDATE_RESET\n      });\n      props.history.push('/userlist');\n    }\n\n    if (!user) {\n      dispatch(detailsUser(userId));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setIsSeller(user.isSeller);\n      setIsAdmin(user.isAdmin);\n    }\n  }, [dispatch, props.history, successUpdate, user, userId]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault(); //  dispatch update user\n\n    dispatch(updateUser({\n      _id: userId,\n      name: name,\n      email: email,\n      isSeller: isSeller,\n      isAdmin: isAdmin\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 18\n    }\n  }, \"Edit User \", name), loadingUpdate && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 36\n    }\n  }), errorUpdate && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 34\n    }\n  }, errorUpdate)), loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 26\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 22\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    type: \"text\",\n    placeholder: \"Enter Name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 22\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"email\",\n    type: \"email\",\n    placeholder: \"Enter Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"isSeller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 22\n    }\n  }, \"Is Seller\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"isSeller\",\n    type: \"checkbox\",\n    checked: isSeller,\n    onChange: function onChange(e) {\n      return setIsSeller(e.target.checked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"isAdmin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 22\n    }\n  }, \"Is Admin\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"isAdmin\",\n    type: \"checkbox\",\n    checked: isAdmin,\n    onChange: function onChange(e) {\n      return setIsAdmin(e.target.checked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 22\n    }\n  }, \"Update\")))));\n}","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/UserEditScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","detailsUser","updateUser","LoadingBox","MessageBox","USER_UPDATE_RESET","UserEditScreen","props","console","log","userId","match","params","id","name","setName","email","setEmail","isSeller","setIsSeller","isAdmin","setIsAdmin","userUpdate","state","loadingUpdate","loading","errorUpdate","error","successUpdate","success","userDetails","user","dispatch","type","history","push","submitHandler","e","preventDefault","_id","target","value","checked"],"mappings":"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","sourcesContent":[" import React,{useState, useEffect} from 'react';\n import {useDispatch, useSelector} from 'react-redux';\nimport { detailsUser, updateUser } from '../actions/userActions';\nimport LoadingBox from '../components/LoadingBox'\nimport MessageBox from '../components/MessageBox';\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\n \n export default function UserEditScreen(props) {\n     console.log(props)\n     const userId = props.match.params.id;\n\n\n     const [name, setName] = useState('');\n     const [email, setEmail] = useState('');\n     const [isSeller, setIsSeller] = useState(false);\n     const [isAdmin, setIsAdmin] = useState(false);\n\n     const userUpdate = useSelector(state => state.userUpdate);\n     const {loading: loadingUpdate, error:errorUpdate, success: successUpdate} = userUpdate;\n\n\n     const userDetails = useSelector(state => state.userDetails);\n     const {loading, error, user} = userDetails;\n\n     const dispatch = useDispatch();\n\n\n     useEffect(() => {\n         if(successUpdate){\n             dispatch({type: USER_UPDATE_RESET})\n             props.history.push('/userlist');\n         }\n\n         if(!user) {\n             dispatch(detailsUser(userId));\n         } else{\n             setName(user.name);\n             setEmail(user.email);\n             setIsSeller(user.isSeller)\n             setIsAdmin(user.isAdmin)\n         }\n     },[dispatch, props.history, successUpdate, user, userId])\n\n\n\n     const submitHandler = (e) => {\n         e.preventDefault();\n        //  dispatch update user\n        dispatch(updateUser({_id:userId, name, email, isSeller, isAdmin}));\n\n     };\n\n     return (\n         <div>\n             <form className=\"form\" onSubmit={submitHandler}>\n                 <div>\n                 <h1>Edit User {name}</h1>\n                 {loadingUpdate && <LoadingBox></LoadingBox>}\n                 {errorUpdate && <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>}\n\n                 </div>\n                 {loading ? <LoadingBox></LoadingBox>\n                 : \n                 error ? <MessageBox variant=\"danger\">{error}</MessageBox>\n                 : \n                 <>\n                 <div>\n                     <label htmlFor=\"name\">Name</label>\n                     <input \n                     id=\"name\"\n                     type=\"text\"\n                     placeholder=\"Enter Name\"\n                     value={name}\n                     onChange={(e) => setName(e.target.value)}\n                     ></input>\n                 </div>\n\n                 <div>\n                     <label htmlFor=\"email\">Email</label>\n                     <input \n                     id=\"email\"\n                     type=\"email\"\n                     placeholder=\"Enter Email\"\n                     value={email}\n                     onChange={(e) => setEmail(e.target.value)}\n                     ></input>\n                 </div>\n\n                 <div>\n                     <label htmlFor=\"isSeller\">Is Seller</label>\n                     <input \n                     id=\"isSeller\"\n                     type=\"checkbox\"\n                     checked={isSeller}\n                     onChange={(e) => setIsSeller(e.target.checked)}\n                     ></input>\n                 </div>\n\n\n                 <div>\n                     <label htmlFor=\"isAdmin\">Is Admin</label>\n                     <input \n                     id=\"isAdmin\"\n                     type=\"checkbox\"\n                     checked={isAdmin}\n                     onChange={(e) => setIsAdmin(e.target.checked)}\n                     ></input>\n                 </div>\n\n                 <div>\n                     <button type=\"submit\" className=\"primary\">\n                         Update\n                    </button>\n                 </div>\n\n                 </>\n                 \n                }\n                 \n             </form>\n             \n         </div>\n     )\n }\n "]},"metadata":{},"sourceType":"module"}