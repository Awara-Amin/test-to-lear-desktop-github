{"ast":null,"code":"var _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/react/ourWebsite/frontend/src/screens/SearchScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { listProducts } from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\"; // import Product from \"../components/Service\";\n\nimport { Link } from \"react-router-dom\";\nimport { prices, ratings } from \"../utils.js\";\nimport Rating from \"../components/Rating\";\nimport { Helmet } from \"react-helmet-async\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchScreen(props) {\n  _s();\n\n  // useParams is a hook from react tout dom\n  const {\n    name = \"all\",\n    category = \"all\",\n    min = 0,\n    max = 0,\n    rating = 0,\n    order = \"newest\",\n    pageNumber = 1\n  } = useParams();\n  console.log(name); // const dispatch = useDispatch();\n  // const productList = useSelector((state) => state.productList);\n  // const { loading, error, products, page, pages } = productList;\n\n  const productCategoryList = useSelector(state => state.productCategoryList);\n  const {\n    loading: loadingCategories,\n    error: errorCategories,\n    categories\n  } = productCategoryList;\n  console.log(\"for checking category of products in the searchScreen.js\");\n  console.log(categories); // useEffect(() => {\n  //   dispatch(\n  //     listProducts({\n  //       pageNumber,\n  //       name: name !== \"all\" ? name : \"\",\n  //       category: category !== \"all\" ? category : \"\",\n  //       min,\n  //       max,\n  //       rating,\n  //       order,\n  //     })\n  //   );\n  // }, [category, dispatch, name, max, min, rating, order, pageNumber]);\n\n  const getFilterUrl = filter => {\n    console.log(\"for checking filter of category in the searchScreen.js\");\n    console.log(filter);\n    console.log(\"for checking filter.name of category in the searchScreen.js\");\n    console.log(name);\n    console.log(\"for checking category of category in the searchScreen.js\");\n    console.log(category);\n    const filterPage = filter.page || pageNumber;\n    const filterCategory = filter.category || category;\n    const filterName = filter.name || name;\n    const filterRating = filter.rating || rating;\n    const sortOrder = filter.order || order;\n    const filterMin = filter.min ? filter.min : filter.min === 0 ? 0 : min;\n    const filterMax = filter.max ? filter.max : filter.max === 0 ? 0 : max;\n    return `/search/category/${filterCategory}/name/${filterName}/min/${filterMin}/max/${filterMax}/rating/${filterRating}/order/${sortOrder}/pageNumber/${filterPage}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Search Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Department\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: loadingCategories ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this) : errorCategories ? /*#__PURE__*/_jsxDEV(MessageBox, {\n            variant: \"danger\",\n            children: errorCategories\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"all\" === category ? \"active\" : \"\",\n                to: getFilterUrl({\n                  category: \"all\"\n                }),\n                children: \"Any\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: c === category ? \"active\" : \"\",\n                to: getFilterUrl({\n                  category: c\n                }),\n                children: c\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this)\n            }, c, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: prices.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: getFilterUrl({\n                  min: p.min,\n                  max: p.max\n                }),\n                className: `${p.min}-${p.max}` === `${min}-${max}` ? \"active\" : \"\",\n                children: p.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)\n            }, p.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Avg. Customer Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: ratings.map(r => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: getFilterUrl({\n                  rating: r.rating\n                }),\n                className: `${r.rating}` === `${rating}` ? \"active\" : \"\",\n                children: /*#__PURE__*/_jsxDEV(Rating, {\n                  caption: \" & up\",\n                  rating: r.rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this)\n            }, r.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"justify-content-between mb-3\",\n            children: [products.length === 0 && /*#__PURE__*/_jsxDEV(MessageBox, {\n              children: \"No Product found kaka\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"row\",\n              children: [loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 21\n              }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n                variant: \"danger\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [products.length, \" Results\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Sort by\", \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: order,\n                  onChange: e => {\n                    props.history.push(getFilterUrl({\n                      order: e.target.value\n                    }));\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"newest\",\n                    children: \"Newest Arrivals\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"lowest\",\n                    children: \"Proce: Low to High\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"highest\",\n                    children: \"Price: High to Low\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"toprated\",\n                    children: \"Avg. Customer Reviews\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              lg: 4,\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Product, {\n                product: product\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this)\n            }, product._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [...Array(pages).keys()].map(x => /*#__PURE__*/_jsxDEV(Link, {\n              className: x + 1 === page ? \"active\" : \"\",\n              to: getFilterUrl({\n                page: x + 1\n              }),\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: Number(page) === x + 1 ? \"text-bold\" : \"\",\n                variant: \"light\",\n                children: x + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this)\n            }, x + 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchScreen, \"noKhoBf2tnMi7AuwtOLHdYeuMuQ=\", false, function () {\n  return [useParams, useSelector];\n});\n\n_c = SearchScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchScreen\");","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/react/ourWebsite/frontend/src/screens/SearchScreen.js"],"names":["React","useEffect","useDispatch","useSelector","useParams","listProducts","LoadingBox","MessageBox","Link","prices","ratings","Rating","Helmet","Row","Col","Button","SearchScreen","props","name","category","min","max","rating","order","pageNumber","console","log","productCategoryList","state","loading","loadingCategories","error","errorCategories","categories","getFilterUrl","filter","filterPage","page","filterCategory","filterName","filterRating","sortOrder","filterMin","filterMax","map","c","p","r","products","length","e","history","push","target","value","product","_id","Array","pages","keys","x","Number"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { listProducts } from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\n// import Product from \"../components/Service\";\nimport { Link } from \"react-router-dom\";\nimport { prices, ratings } from \"../utils.js\";\nimport Rating from \"../components/Rating\";\nimport { Helmet } from \"react-helmet-async\";\n\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\n\nexport default function SearchScreen(props) {\n  // useParams is a hook from react tout dom\n  const {\n    name = \"all\",\n    category = \"all\",\n    min = 0,\n    max = 0,\n    rating = 0,\n    order = \"newest\",\n    pageNumber = 1,\n  } = useParams();\n  console.log(name);\n\n  // const dispatch = useDispatch();\n  // const productList = useSelector((state) => state.productList);\n  // const { loading, error, products, page, pages } = productList;\n\n  const productCategoryList = useSelector((state) => state.productCategoryList);\n  const {\n    loading: loadingCategories,\n    error: errorCategories,\n    categories,\n  } = productCategoryList;\n\n  console.log(\"for checking category of products in the searchScreen.js\");\n  console.log(categories);\n\n  // useEffect(() => {\n  //   dispatch(\n  //     listProducts({\n  //       pageNumber,\n  //       name: name !== \"all\" ? name : \"\",\n  //       category: category !== \"all\" ? category : \"\",\n  //       min,\n  //       max,\n  //       rating,\n  //       order,\n  //     })\n  //   );\n  // }, [category, dispatch, name, max, min, rating, order, pageNumber]);\n\n  const getFilterUrl = (filter) => {\n    console.log(\"for checking filter of category in the searchScreen.js\");\n    console.log(filter);\n    console.log(\"for checking filter.name of category in the searchScreen.js\");\n    console.log(name);\n    console.log(\"for checking category of category in the searchScreen.js\");\n    console.log(category);\n    const filterPage = filter.page || pageNumber;\n    const filterCategory = filter.category || category;\n    const filterName = filter.name || name;\n    const filterRating = filter.rating || rating;\n    const sortOrder = filter.order || order;\n    const filterMin = filter.min ? filter.min : filter.min === 0 ? 0 : min;\n    const filterMax = filter.max ? filter.max : filter.max === 0 ? 0 : max;\n\n    return `/search/category/${filterCategory}/name/${filterName}/min/${filterMin}/max/${filterMax}/rating/${filterRating}/order/${sortOrder}/pageNumber/${filterPage}`;\n  };\n\n  return (\n    <div>\n      <Helmet>\n        <title>Search Products</title>\n      </Helmet>\n\n      <Row>\n        <Col md={3}>\n          <h3>Department</h3>\n          <div>\n            {loadingCategories ? (\n              <LoadingBox></LoadingBox>\n            ) : errorCategories ? (\n              <MessageBox variant=\"danger\">{errorCategories}</MessageBox>\n            ) : (\n              <ul>\n                <li>\n                  <Link\n                    className={\"all\" === category ? \"active\" : \"\"}\n                    to={getFilterUrl({ category: \"all\" })}\n                  >\n                    Any\n                  </Link>\n                </li>\n                {categories.map((c) => (\n                  <li key={c}>\n                    <Link\n                      className={c === category ? \"active\" : \"\"}\n                      to={getFilterUrl({ category: c })}\n                    >\n                      {c}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n\n          {/*  */}\n          {/* <h3>Category</h3> */}\n          {/* <h3>Ask M.Fuad if enything else is needed here</h3> */}\n\n          <div>\n            <h3>Price</h3>\n            <ul>\n              {prices.map((p) => (\n                <li key={p.name}>\n                  <Link\n                    to={getFilterUrl({ min: p.min, max: p.max })}\n                    className={\n                      `${p.min}-${p.max}` === `${min}-${max}` ? \"active\" : \"\"\n                    }\n                  >\n                    {p.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <h3>Avg. Customer Review</h3>\n            <ul>\n              {ratings.map((r) => (\n                <li key={r.name}>\n                  <Link\n                    to={getFilterUrl({ rating: r.rating })}\n                    className={`${r.rating}` === `${rating}` ? \"active\" : \"\"}\n                  >\n                    <Rating caption={\" & up\"} rating={r.rating}></Rating>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Col>\n\n        {/*  */}\n        <Col md={9}>\n          {loading ? (\n            <LoadingBox></LoadingBox>\n          ) : error ? (\n            <MessageBox variant=\"danger\">{error}</MessageBox>\n          ) : (\n            <>\n              <Row className=\"justify-content-between mb-3\">\n                {products.length === 0 && (\n                  <MessageBox>No Product found kaka</MessageBox>\n                )}\n                <Col className=\"row\">\n                  {loading ? (\n                    <LoadingBox></LoadingBox>\n                  ) : error ? (\n                    <MessageBox variant=\"danger\">{error}</MessageBox>\n                  ) : (\n                    <div>{products.length} Results</div>\n                  )}\n\n                  <div>\n                    Sort by{\" \"}\n                    <select\n                      value={order}\n                      onChange={(e) => {\n                        props.history.push(\n                          getFilterUrl({ order: e.target.value })\n                        );\n                      }}\n                    >\n                      <option value=\"newest\">Newest Arrivals</option>\n                      <option value=\"lowest\">Proce: Low to High</option>\n                      <option value=\"highest\">Price: High to Low</option>\n                      <option value=\"toprated\">Avg. Customer Reviews</option>\n                    </select>\n                  </div>\n                </Col>\n              </Row>\n\n              <Row>\n                {products.map((product) => (\n                  <Col sm={6} lg={4} className=\"mb-3\" key={product._id}>\n                    <Product product={product}></Product>\n                  </Col>\n                ))}\n              </Row>\n\n              <div>\n                {[...Array(pages).keys()].map((x) => (\n                  <Link\n                    className={x + 1 === page ? \"active\" : \"\"}\n                    key={x + 1}\n                    to={getFilterUrl({ page: x + 1 })}\n                  >\n                    <Button\n                      className={Number(page) === x + 1 ? \"text-bold\" : \"\"}\n                      variant=\"light\"\n                    >\n                      {x + 1}\n                    </Button>\n                  </Link>\n                ))}\n              </div>\n            </>\n          )}\n        </Col>\n      </Row>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}