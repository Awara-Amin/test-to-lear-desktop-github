{"ast":null,"code":"var _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/OrderListScreen.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteOrder, listOrders } from '../actions/orderActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { ORDER_DELETE_RESET } from '../constants/orderConstants';\nexport default function OrderListScreen(props) {\n  var _this = this;\n\n  var sellerMode = props.match.path.indexOf('/seller') >= 0;\n  var orderList = useSelector(function (state) {\n    return state.orderList;\n  });\n  var loading = orderList.loading,\n      error = orderList.error,\n      orders = orderList.orders;\n  var orderDelete = useSelector(function (state) {\n    return state.orderDelete;\n  });\n  var loadingDelete = orderDelete.loading,\n      errorDelete = orderDelete.error,\n      successDelete = orderDelete.success;\n  var userSignin = useSelector(function (state) {\n    return state.userSignin;\n  });\n  var userInfo = userSignin.userInfo;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch({\n      type: ORDER_DELETE_RESET\n    }); // dispatch(listOrders());\n\n    dispatch(listOrders({\n      seller: sellerMode ? userInfo._id : ''\n    }));\n  }, [dispatch, sellerMode, successDelete, userInfo._id]);\n\n  var deleteHandler = function deleteHandler(order) {\n    // todo; delete handler\n    if (window.confirm('Are you sure to delete?')) {\n      dispatch(deleteOrder(order._id));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Orders kaka\"), loadingDelete && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 31\n    }\n  }), errorDelete && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, errorDelete), loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, \"USER\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, \"DATE\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, \"PAID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, \"DELIEVERD\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, \"ACTIONS\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, orders.map(function (order) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: order._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, order._id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }, order.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, order.createAt), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }, order.totalPrice.toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, order.isPending ? order.pendingAt.substring(0, 10) : \"Not\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, order.isDelivered ? order.deliveredAt.substring(0, 10) : \"Not\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"small\",\n      onClick: function onClick() {\n        props.history.push(\"/order/\".concat(order._id));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, \"Details\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"small\",\n      onClick: function onClick() {\n        return deleteHandler(order);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, \"Delete\")));\n  })))));\n}","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/OrderListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","deleteOrder","listOrders","LoadingBox","MessageBox","ORDER_DELETE_RESET","OrderListScreen","props","sellerMode","match","path","indexOf","orderList","state","loading","error","orders","orderDelete","loadingDelete","errorDelete","successDelete","success","userSignin","userInfo","dispatch","type","seller","_id","deleteHandler","order","window","confirm","map","name","createAt","totalPrice","toFixed","isPending","pendingAt","substring","isDelivered","deliveredAt","history","push"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport { deleteOrder, listOrders } from '../actions/orderActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { ORDER_DELETE_RESET } from '../constants/orderConstants';\n\nexport default function OrderListScreen(props) {\n    const sellerMode = props.match.path.indexOf('/seller') >= 0;\n\n    const orderList = useSelector((state) => state.orderList);\n    const {loading, error, orders} = orderList;\n\n    const orderDelete = useSelector((state) => state.orderDelete);\n    const {\n        loading: loadingDelete, \n        error:errorDelete, \n        success:successDelete\n        } = orderDelete;\n\n        const userSignin = useSelector((state) => state.userSignin);\n        const { userInfo } = userSignin;\n\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch({type:ORDER_DELETE_RESET})\n        // dispatch(listOrders());\n        dispatch(listOrders({ seller: sellerMode ? userInfo._id : '' }));\n        \n    }, [dispatch, sellerMode, successDelete, userInfo._id]);\n\n    const deleteHandler = (order) =>{\n        // todo; delete handler\n        if(window.confirm('Are you sure to delete?')){\n            dispatch(deleteOrder(order._id));\n        }\n    };\n\n\n\n    return (\n        <div>\n            <div>\n            <h1>Orders kaka</h1>\n            {loadingDelete && <LoadingBox></LoadingBox>}\n            {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n            {loading ? (\n            <LoadingBox></LoadingBox>) \n            : \n            error ? (\n            <MessageBox variant=\"danger\">{error}</MessageBox>) \n            :\n            (\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>USER</th>\n                            <th>DATE</th>\n                            <th>TOTAL</th>\n                            <th>PAID</th>\n                            <th>DELIEVERD</th>\n                            <th>ACTIONS</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {orders.map((order) =>(\n                            <tr key={order._id}>\n                                <td>{order._id}</td>\n                                <td>{order.name}</td>\n                                {/* <td>{order.createAt.substring(0, 10)}</td> */}\n                                <td>{order.createAt}</td>\n                                <td>{order.totalPrice.toFixed(2)}</td>\n                                {/* <td>{order.isPaid ? order.paidAt.substring(0, 10) : \"Not\"}</td> */}\n                                <td>{order.isPending ? order.pendingAt.substring(0, 10) : \"Not\"}</td>\n                                <td>\n                                    {order.isDelivered \n                                    ? \n                                    order.deliveredAt.substring(0, 10) \n                                    : \n                                 \"Not\" }\n                                 </td>\n                                <td>\n                                    <button type=\"button\" className=\"small\"\n                                                onClick={() => {\n                                                    props.history.push(`/order/${order._id}`);\n                                                }}>\n                                                Details\n                                    </button>\n\n                                    <button\n                                    type=\"button\" \n                                    className=\"small\"\n                                    onClick={() => deleteHandler(order)\n                                    }\n                                    >Delete\n\n                                    </button>\n\n\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            )\n           }\n        </div>\n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}