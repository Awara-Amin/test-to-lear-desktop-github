{"ast":null,"code":"import Axios from \"axios\";\nimport { PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_CATEGORY_LIST_SUCCESS, PRODUCT_CATEGORY_LIST_REQUEST, PRODUCT_CATEGORY_LIST_FAIL, PRODUCT_REVIEW_CREATE_REQUEST, PRODUCT_REVIEW_CREATE_SUCCESS, PRODUCT_REVIEW_CREATE_FAIL, PRODUCT_FAV_REQUEST, PRODUCT_FAV_SUCCESS, PRODUCT_FAV_FAIL } from \"../constants/productConstants\"; //    before adding seller part\n// export const listProducts = () => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const {data} = await Axios.get('/api/products');\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n//     }\n// };\n// export const listProducts = ({ seller = '' }) => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const { data } = await Axios.get(`/api/products?seller=${seller}`);\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n//     }\n// };\n\nexport const listProducts = _ref => {\n  let {\n    seller = '',\n    name = '',\n    category = '',\n    min = 0,\n    max = 0,\n    rating = 0,\n    order = '',\n    pageNumber = \" \"\n  } = _ref;\n  return async dispatch => {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    });\n\n    try {\n      const {\n        data\n      } = await Axios.get(`/api/products?pageNumber=${pageNumber}&seller=${seller}&name=${name}&category=${category}&min=${min}&max=${max}&rating=${rating}&order=${order}`);\n      dispatch({\n        type: PRODUCT_LIST_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_LIST_FAIL,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const listProductCategories = () => async dispatch => {\n  dispatch({\n    type: PRODUCT_CATEGORY_LIST_REQUEST\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.get(`/api/products/categories`);\n    dispatch({\n      type: PRODUCT_CATEGORY_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CATEGORY_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const detailsProduct = productId => async dispatch => {\n  dispatch({\n    type: PRODUCT_DETAILS_REQUEST,\n    payload: productId\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.get(`/api/products/${productId}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_CREATE_REQUEST\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n  console.log(userInfo);\n\n  try {\n    const {\n      data\n    } = await Axios.post('/api/products', {}, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data.product\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_UPDATE_REQUEST,\n    payload: product\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n\n  try {\n    const {\n      data\n    } = await Axios.put(`/api/products/${product._id}`, product, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const deleteProduct = productId => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_DELETE_REQUEST,\n    payload: productId\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n\n  try {\n    await Axios.delete(`/api/products/${productId}`, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const createReview = (productId, review) => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_REVIEW_CREATE_REQUEST\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n  console.log(userInfo);\n\n  try {\n    const {\n      data\n    } = await Axios.post(`/api/products/${productId}/reviews`, review, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: PRODUCT_REVIEW_CREATE_SUCCESS,\n      payload: data.review\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: PRODUCT_REVIEW_CREATE_FAIL,\n      payload: message\n    });\n  }\n}; // *********************\n\nexport const addToFavorite = productId => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_FAV_REQUEST,\n    payload: productId\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.get(`/api/favoritecarts/${productId}`);\n    dispatch({\n      type: PRODUCT_FAV_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_FAV_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/react/amazona/frontend/src/actions/productActions.js"],"names":["Axios","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_CATEGORY_LIST_SUCCESS","PRODUCT_CATEGORY_LIST_REQUEST","PRODUCT_CATEGORY_LIST_FAIL","PRODUCT_REVIEW_CREATE_REQUEST","PRODUCT_REVIEW_CREATE_SUCCESS","PRODUCT_REVIEW_CREATE_FAIL","PRODUCT_FAV_REQUEST","PRODUCT_FAV_SUCCESS","PRODUCT_FAV_FAIL","listProducts","seller","name","category","min","max","rating","order","pageNumber","dispatch","type","data","get","payload","error","message","listProductCategories","detailsProduct","productId","response","createProduct","getState","userSignin","userInfo","console","log","post","headers","Authorization","token","product","updateProduct","put","_id","deleteProduct","delete","createReview","review","addToFavorite"],"mappings":"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","sourcesContent":["\nimport Axios  from \"axios\";\nimport {PRODUCT_CREATE_FAIL, \n        PRODUCT_CREATE_REQUEST, \n        PRODUCT_CREATE_SUCCESS,\n\n       PRODUCT_DETAILS_FAIL,\n        PRODUCT_DETAILS_REQUEST,\n        PRODUCT_DETAILS_SUCCESS,\n        \n        PRODUCT_LIST_FAIL, \n        PRODUCT_LIST_REQUEST, \n        PRODUCT_LIST_SUCCESS,\n\n        PRODUCT_UPDATE_FAIL,\n        PRODUCT_UPDATE_REQUEST,\n        PRODUCT_UPDATE_SUCCESS,\n\n        PRODUCT_DELETE_FAIL, \n       PRODUCT_DELETE_REQUEST,\n       PRODUCT_DELETE_SUCCESS,\n\n\n       PRODUCT_CATEGORY_LIST_SUCCESS,\n       PRODUCT_CATEGORY_LIST_REQUEST,\n       PRODUCT_CATEGORY_LIST_FAIL,\n\n       PRODUCT_REVIEW_CREATE_REQUEST,\n       PRODUCT_REVIEW_CREATE_SUCCESS,\n       PRODUCT_REVIEW_CREATE_FAIL,\n       PRODUCT_FAV_REQUEST,\n       PRODUCT_FAV_SUCCESS,\n       PRODUCT_FAV_FAIL, \n                             } from \"../constants/productConstants\";\n\n//    before adding seller part\n// export const listProducts = () => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const {data} = await Axios.get('/api/products');\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n\n//     }\n// };\n\n// export const listProducts = ({ seller = '' }) => async (dispatch) => {\n//     dispatch({\n//         type: PRODUCT_LIST_REQUEST,\n//     });\n//     try {\n//         const { data } = await Axios.get(`/api/products?seller=${seller}`);\n//         dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n\n//     } catch (error){\n//         dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n\n//     }\n// };\n\nexport const listProducts = ({ seller = '', name = '', category = '', min= 0, max = 0, rating = 0, order= '', pageNumber = \" \"}) => async (dispatch) => {\n    dispatch({\n        type: PRODUCT_LIST_REQUEST,\n    });\n    try {\n        const { data } = await Axios.get(\n            `/api/products?pageNumber=${pageNumber}&seller=${seller}&name=${name}&category=${category}&min=${min}&max=${max}&rating=${rating}&order=${order}`\n          );\n        dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\n\n    } catch (error){\n        dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\n\n    }\n};\n\n\n\nexport const listProductCategories = () => async (dispatch) => {\n    dispatch({\n        type: PRODUCT_CATEGORY_LIST_REQUEST,\n    });\n    try {\n        const { data } = await Axios.get(\n            `/api/products/categories`\n          );\n        dispatch({type: PRODUCT_CATEGORY_LIST_SUCCESS, payload: data});\n\n    } catch (error){\n        dispatch({type: PRODUCT_CATEGORY_LIST_FAIL, payload: error.message});\n\n    }\n};\n\nexport const detailsProduct = (productId) => async (dispatch) =>{\n    dispatch({type: PRODUCT_DETAILS_REQUEST, payload: productId});\n    try {\n        const {data} = await Axios.get(`/api/products/${productId}`);\n        dispatch({type: PRODUCT_DETAILS_SUCCESS, payload: data});\n\n    } catch(error) {\n        dispatch({type: PRODUCT_DETAILS_FAIL, \n            payload: \n            error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n        });\n    }\n};\n\nexport const createProduct = () => async (dispatch, getState) => {\n    dispatch({type: PRODUCT_CREATE_REQUEST});\n    const {userSignin:{userInfo}} = getState();\n    console.log(userInfo);\n    try {\n        const {data} = await Axios.post('/api/products', {}, {\n            headers: { Authorization: `Bearer ${userInfo.token}`},\n        }\n        );\n        dispatch({\n            type: PRODUCT_CREATE_SUCCESS, \n            payload: data.product,\n        });\n\n\n    } catch(error){\n        const message = error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n        dispatch({type: PRODUCT_CREATE_FAIL, payload:message});\n\n    }\n}\n\nexport const updateProduct = (product) => async (dispatch, getState) => { \n    dispatch ({type: PRODUCT_UPDATE_REQUEST, payload: product});\n    const {userSignin: {userInfo}} = getState();\n\n    try {\n        const { data } = await Axios.put(`/api/products/${product._id}`, product, {\n            headers: { Authorization: `Bearer ${userInfo.token}` },\n          });\n        dispatch({type: PRODUCT_UPDATE_SUCCESS, payload: data});\n\n    } catch(error) {\n        const message = error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n        dispatch({type: PRODUCT_UPDATE_FAIL, payload:message});\n                  }\n\n};\n\n\nexport const deleteProduct = (productId) => async (dispatch, getState) => {\n    dispatch({type: PRODUCT_DELETE_REQUEST, payload:productId});\n    const {\n        userSignin: {userInfo}} = getState();\n\n    try {\n        await Axios.delete(`/api/products/${productId}`, {\n            headers: {Authorization: `Bearer ${userInfo.token}`},\n        });\n        dispatch({type:PRODUCT_DELETE_SUCCESS});\n\n\n    } catch(error){\n        const message = error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n        dispatch({type:PRODUCT_DELETE_FAIL, payload:message})\n\n    }\n\n}\n\n\nexport const createReview = (productId, review) => async (dispatch, getState) => {\n    dispatch({type: PRODUCT_REVIEW_CREATE_REQUEST});\n    const {userSignin:{userInfo}} = getState();\n    console.log(userInfo);\n    try {\n        const {data} = await Axios.post(`/api/products/${productId}/reviews`,\n         review, \n         {\n            headers: { Authorization: `Bearer ${userInfo.token}`},\n        }\n        );\n        dispatch({\n            type: PRODUCT_REVIEW_CREATE_SUCCESS, \n            payload: data.review,\n        });\n\n\n    } catch(error){\n        const message = error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n        dispatch({type: PRODUCT_REVIEW_CREATE_FAIL, payload:message});\n\n    }\n}\n\n\n// *********************\n\nexport const addToFavorite = (productId) => async (dispatch, getState) => {\n\n    dispatch({type: PRODUCT_FAV_REQUEST, payload: productId});\n    try {\n        const {data} = await Axios.get(`/api/favoritecarts/${productId}`);\n        dispatch({type: PRODUCT_FAV_SUCCESS, payload: data});\n\n    } catch(error) {\n        dispatch({type: PRODUCT_FAV_FAIL, \n            payload: \n            error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n        });\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}