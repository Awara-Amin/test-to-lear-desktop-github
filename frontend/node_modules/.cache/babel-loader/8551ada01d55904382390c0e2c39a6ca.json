{"ast":null,"code":"var _jsxFileName = \"/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/CouponEditScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport Axios from \"axios\"; // import { detailsCategory, updateCategory } from \"../actions/categoryActions\";\n\nimport { detailsCoupon, updateCoupon } from \"../actions/couponActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { COUPON_UPDATE_RESET } from \"../constants/couponConstants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CouponEditScreen(props) {\n  _s();\n\n  // getting the categoryId from the URL\n  const couponId = props.match.params.id;\n  const [name, setName] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [discount, setDiscount] = useState(\"\");\n  const couponDetails = useSelector(state => state.couponDetails);\n  const {\n    loading,\n    error,\n    coupon\n  } = couponDetails;\n  console.log(\"esta kaka inside couponEditScreen.js\");\n  console.log(coupon);\n  const couponUpdate = useSelector(state => state.couponUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate\n  } = couponUpdate;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successUpdate) {\n      // dispatch({ type: CATEGORY_UPDATE_RESET });\n      props.history.push(\"/couponlist\");\n    } // if category didnt exist\n\n\n    if (!coupon || coupon._id !== couponId || successUpdate) {\n      dispatch({\n        type: COUPON_UPDATE_RESET\n      });\n      dispatch(detailsCoupon(couponId));\n    } else {\n      setName(coupon.name);\n      setExpiry(coupon.expiry);\n      setDiscount(coupon.discount);\n    } // so when we have change in any of these, the useEffect function runs\n\n  }, [coupon, dispatch, couponId, successUpdate, props.history]);\n\n  const submitHandler = e => {\n    e.preventDefault(); // todo: dispatch update product\n\n    dispatch(updateCoupon({\n      _id: couponId,\n      name,\n      expiry,\n      discount\n    }));\n  };\n\n  const [loadingUpload, setLoadingUpload] = useState(false);\n  const [errorUpload, setErrorUpload] = useState(\"\");\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin; // UI part\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Edit Coupon \", couponId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"test kaka\", couponId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), loadingUpdate && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 27\n      }, this), errorUpdate && /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: errorUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            type: \"text\",\n            placeholder: \"Enter Name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"expiry\",\n            children: \"Expiry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"expiry\",\n            type: \"text\",\n            placeholder: \"Expiry Date\",\n            value: expiry,\n            onChange: e => setExpiry(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"discount\",\n            children: \"Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"discount\",\n            rows: \"3\",\n            type: \"text\",\n            placeholder: \"Enter discount\",\n            value: discount,\n            onChange: e => setDiscount(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"primary\",\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CouponEditScreen, \"EWUj4dYEWsQCsuIQmGow6Mz0hQw=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector];\n});\n\n_c = CouponEditScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CouponEditScreen\");","map":{"version":3,"sources":["/Users/awaraamin/2020/The-complete-2020-Web-Development-Bootcamp/practice/bootStarp-amazona/amazona/frontend/src/screens/CouponEditScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Axios","detailsCoupon","updateCoupon","LoadingBox","MessageBox","COUPON_UPDATE_RESET","CouponEditScreen","props","couponId","match","params","id","name","setName","expiry","setExpiry","discount","setDiscount","couponDetails","state","loading","error","coupon","console","log","couponUpdate","loadingUpdate","errorUpdate","success","successUpdate","dispatch","history","push","_id","type","submitHandler","e","preventDefault","loadingUpload","setLoadingUpload","errorUpload","setErrorUpload","userSignin","userInfo","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport Axios from \"axios\";\n// import { detailsCategory, updateCategory } from \"../actions/categoryActions\";\nimport { detailsCoupon, updateCoupon } from \"../actions/couponActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { COUPON_UPDATE_RESET } from \"../constants/couponConstants\";\n\nexport default function CouponEditScreen(props) {\n  // getting the categoryId from the URL\n  const couponId = props.match.params.id;\n\n  const [name, setName] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [discount, setDiscount] = useState(\"\");\n\n  const couponDetails = useSelector((state) => state.couponDetails);\n  const { loading, error, coupon } = couponDetails;\n\n  console.log(\"esta kaka inside couponEditScreen.js\");\n  console.log(coupon);\n\n  const couponUpdate = useSelector((state) => state.couponUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = couponUpdate;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (successUpdate) {\n      // dispatch({ type: CATEGORY_UPDATE_RESET });\n      props.history.push(\"/couponlist\");\n    }\n\n    // if category didnt exist\n    if (!coupon || coupon._id !== couponId || successUpdate) {\n      dispatch({ type: COUPON_UPDATE_RESET });\n      dispatch(detailsCoupon(couponId));\n    } else {\n      setName(coupon.name);\n      setExpiry(coupon.expiry);\n      setDiscount(coupon.discount);\n    }\n    // so when we have change in any of these, the useEffect function runs\n  }, [coupon, dispatch, couponId, successUpdate, props.history]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    // todo: dispatch update product\n    dispatch(\n      updateCoupon({\n        _id: couponId,\n        name,\n        expiry,\n        discount,\n      })\n    );\n  };\n\n  const [loadingUpload, setLoadingUpload] = useState(false);\n  const [errorUpload, setErrorUpload] = useState(\"\");\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  // UI part\n  return (\n    <div>\n      <form className=\"form\" onSubmit={submitHandler}>\n        <div>\n          <h1>Edit Coupon {couponId}</h1>\n          <h1>test kaka{couponId}</h1>\n        </div>\n        {loadingUpdate && <LoadingBox></LoadingBox>}\n        {errorUpdate && <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>}\n\n        {loading ? (\n          <LoadingBox></LoadingBox>\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <>\n            <div>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                id=\"name\"\n                type=\"text\"\n                placeholder=\"Enter Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"expiry\">Expiry</label>\n              <input\n                id=\"expiry\"\n                type=\"text\"\n                placeholder=\"Expiry Date\"\n                value={expiry}\n                onChange={(e) => setExpiry(e.target.value)}\n              ></input>\n            </div>\n\n            <div>\n              <label htmlFor=\"discount\">Discount</label>\n              <textarea\n                id=\"discount\"\n                rows=\"3\"\n                type=\"text\"\n                placeholder=\"Enter discount\"\n                value={discount}\n                onChange={(e) => setDiscount(e.target.value)}\n              ></textarea>\n            </div>\n\n            <div>\n              <label></label>\n              <button className=\"primary\" type=\"submit\">\n                Update\n              </button>\n            </div>\n          </>\n        )}\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}